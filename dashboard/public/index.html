<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-locale-key="dashboard_title">Ubot Dashboard</title>

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Centralized Stylesheet & Scripts -->
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="main-container" style="display: block;"> <!-- Overriding flex display for this page -->
    <main class="dashboard-grid" style="width: 100%; max-width: 1600px; margin: auto;">
      <div class="widget stat-card">
        <h2><i class="material-icons">dns</i> <span data-locale-key="dashboard_servers_title">Servidores</span></h2>
        <p id="guild-count">-</p>
      </div>
      <div class="widget stat-card">
        <h2><i class="material-icons">terminal</i> <span data-locale-key="dashboard_stats_total_commands">Total de Comandos</span></h2>
        <p id="total-commands">-</p>
      </div>
       <div class="widget stat-card" id="bot-status-widget">
        <h2><i class="material-icons">bolt</i> <span data-locale-key="dashboard_bot_status_title">Status do Bot</span></h2>
        <p id="bot-status">-</p>
        <div style="font-size:0.9rem;color:var(--text-secondary)">
          <span>Uptime: <span id="bot-uptime">-</span></span> | <span>Latência: <span id="bot-latency">-</span>ms</span>
        </div>
      </div>
      <div class="widget large-widget chart-container">
        <h2><i class="material-icons">analytics</i> <span data-locale-key="dashboard_stats_command_usage">Uso de Comandos</span></h2>
        <canvas id="command-chart"></canvas>
      </div>
      <div class="widget large-widget" id="guilds-widget">
        <h2><i class="material-icons">groups</i> <span data-locale-key="dashboard_my_servers_title">Meus Servidores</span></h2>
        <div id="guilds-list">
          <!-- Server icons will be dynamically inserted here -->
        </div>
      </div>
      <div class="widget large-widget" id="help-widget">
        <h2><i class="material-icons">help_outline</i> <span data-locale-key="dashboard_help_title">Ajuda & Links Rápidos</span></h2>
        <ul style="padding-left: 20px; display: flex; flex-direction: column; gap: 10px;">
          <li><a href="https://github.com/adrieIgg/Ubot" target="_blank" style="color:var(--accent); text-decoration: none;">GitHub: Código Fonte do Bot</a></li>
          <li><a href="https://discord.com/developers/docs" target="_blank" style="color:var(--accent); text-decoration: none;">Documentação Discord API</a></li>
        </ul>
      </div>
        <div class="widget large-widget" id="recent-activity-widget">
            <h2><i class="material-icons">history</i> <span data-locale-key="dashboard_recent_activity">Recent Activity</span></h2>
            <div id="logs-list">
                <!-- Log entries will be dynamically inserted here -->
            </div>
            <button id="see-more-logs-btn" class="btn" data-locale-key="dashboard_see_more">See More</button>
        </div>
    </main>
  </div>

    <!-- Log Viewer Modal -->
    <div id="logs-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="material-icons">manage_search</i> <span data-locale-key="dashboard_log_viewer">Log Viewer</span></h3>
                <span class="close-btn">&times;</span>
            </div>
            <div class="modal-body">
                <div class="log-filters">
                    <select id="log-level-filter">
                        <option value="" data-locale-key="dashboard_log_all_levels">All Levels</option>
                        <option value="INFO">INFO</option>
                        <option value="WARN">WARN</option>
                        <option value="ERROR">ERROR</option>
                    </select>
                    <select id="log-period-filter">
                        <option value="" data-locale-key="dashboard_log_all_time">All Time</option>
                        <option value="day" data-locale-key="dashboard_log_last_24_hours">Last 24 hours</option>
                        <option value="week" data-locale-key="dashboard_log_last_week">Last week</option>
                        <option value="month" data-locale-key="dashboard_log_last_month">Last month</option>
                    </select>
                </div>
                <div id="modal-logs-list">
                    <!-- Detailed log entries will be inserted here -->
                </div>
            </div>
            <div class="modal-footer" id="log-pagination-controls">
                <!-- Pagination buttons will be inserted here -->
            </div>
        </div>
    </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="auth.js"></script>
  <script src="translator.js"></script>
  <script src="script.js"></script>
</body>
</html>